import { MapPolyfill as Map } from './map.mjs';

function shouldUseNative() {
  return !!Set;
}

export function SetPolyfill() {
  const m = new Map;
  const set = m.set;
  delete m.get;
  delete m.set;
  m.add = obj => set.call(m, obj, obj);
  return m;
}

export default shouldUseNative() ? Set : SetPolyfill;
